@model UserDashboardVM
@{
    ViewData["Title"] = "Dashboard";
    Layout = "_DashboardLayout";

}

<div class="container-fluid p-4 text-white bg-black">
    <!-- Top Metrics Cards -->
    <div class="row g-3 mb-4">
        <div class="col-md-2">
            <div class="card text-white text-center border border-primary h-100" style="background-color:#0d6efd;">
                <div class="card-body">
                    <h6 class="fw-semibold"><i class="bi bi-buildings"></i> Total Warehouses</h6>
                    <h4 class="fw-bold">@Model.TotalWarehouses</h4>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <div class="card text-white text-center border border-primary h-100" style="background-color:#0d6efd;">
                <div class="card-body">
                    <h6 class="fw-semibold"><i class="bi bi-box-seam"></i> Total Products</h6>
                    <h4 class="fw-bold">@Model.TotalProducts</h4>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <div class="card text-white text-center border border-primary h-100" style="background-color:#0d6efd;">
                <div class="card-body">
                    <h6 class="fw-semibold"><i class="bi bi-people-fill"></i> Total Suppliers</h6>
                    <h4 class="fw-bold">@Model.TotalSuppliers</h4>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white text-center border border-primary h-100" style="background-color:#0d6efd;">
                <div class="card-body">
                    <h6 class="fw-semibold"><i class="bi bi-currency-dollar"></i> Total Revenue</h6>
                    <h4 class="fw-bold">@Model.TotalRevenue.ToString("C")</h4>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-white text-center border border-danger h-100" style="background-color:#dc3545;">
                <div class="card-body">
                    <h6 class="fw-semibold"><i class="bi bi-exclamation-circle"></i> Low Stock Alerts</h6>
                    <h4 class="fw-bold">@Model.LowStockAlerts</h4>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Movements Table -->
    <div class="card rounded-4 shadow-sm p-4 mb-4" style="background-color:#3f474f; border: 2px solid #0d6efd;">
        <h5 class="text-white mb-3"><i class="bi bi-arrow-left-right"></i> Product Movements</h5>
        <div class="table-responsive">
            <table class="table table-dark table-striped table-hover text-center mb-0">
                <thead style="border-bottom: 2px solid #0d6efd;">
                    <tr>
                        <th>Product</th>
                        <th>Warehouse</th>
                        <th>Action</th>
                        <th>Quantity</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var movement in Model.ProductMovements)
                    {
                        <tr>
                            <td>@movement.ProductName</td>
                            <td>@movement.WarehouseName</td>
                            <td>@movement.MoveType</td>
                            <td>@movement.Quantity</td>
                            <td>@movement.Date.ToString("dd/MM/yyyy")</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="row g-4">
        <!-- Top Selling Products -->
        <div class="col-md-6">
            <div class="card rounded-4 shadow-sm p-4 h-100" style="background-color:#2c3e50; border: 2px solid #0d6efd;">
                <h5 class="text-white mb-3"><i class="bi bi-trophy"></i> Top Selling Products</h5>
                <table class="table table-dark table-hover text-center mb-0">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Warehouse</th>
                            <th>Sold</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var top in Model.TopSellingProducts)
                        {
                            <tr>
                                <td>@top.Name</td>
                                <td>@top.WarehouseName</td>
                                <td>@top.Quantity</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Low Stock Products -->
        <div class="col-md-6">
            <div class="card rounded-4 shadow-sm p-4 h-100" style="background-color:#2c3e50; border: 2px solid #dc3545;">
                <h5 class="text-white mb-3"><i class="bi bi-box"></i> Low Stock Products</h5>
                <table class="table table-dark table-hover text-center mb-0">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Warehouse</th>
                            <th>Stock</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var low in Model.LowStockProducts)
                        {
                            <tr>
                                <td>@low.Name</td>
                                <td>@low.Name</td>
                                <td class="text-danger fw-bold">@low.Quantity</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
